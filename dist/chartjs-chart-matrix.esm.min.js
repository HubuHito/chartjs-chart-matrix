/*!
 * chartjs-chart-matrix v1.0.0-alpha6
 * https://github.com/kurkle/chartjs-chart-matrix#readme
 * (c) 2020 Jukka Kurkela
 * Released under the MIT license
 */
import t from"chart.js";function e(){return(e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function r(t,e){var{x:r,y:i,width:o,height:n}=t.getProps(["x","y","width","height"],e);return{left:r,top:i,right:r+o,bottom:i+n}}function i(t,e,r){return Math.max(Math.min(t,r),e)}function o(e){var o=r(e),n=o.right-o.left,a=o.bottom-o.top,h=function(e,r,o){var n,a,h,l,s=e.options.borderWidth;return t.helpers.isObject(s)?(n=+s.top||0,a=+s.right||0,h=+s.bottom||0,l=+s.left||0):n=a=h=l=+s||0,{t:i(n,0,o),r:i(a,0,r),b:i(h,0,o),l:i(l,0,r)}}(e,n/2,a/2);return{outer:{x:o.left,y:o.top,w:n,h:a},inner:{x:o.left+h.l,y:o.top+h.t,w:n-h.l-h.r,h:a-h.t-h.b}}}function n(t,e,i,o){var n=null===e,a=null===i,h=!(!t||n&&a)&&r(t,o);return h&&(n||e>=h.left&&e<=h.right)&&(a||i>=h.top&&i<=h.bottom)}class a extends t.Element{constructor(t){super(),this.options=void 0,this.width=void 0,this.height=void 0,t&&e(this,t)}draw(t){var e=this.options,{inner:r,outer:i}=o(this);t.save(),i.w!==r.w||i.h!==r.h?(t.beginPath(),t.rect(i.x,i.y,i.w,i.h),t.clip(),t.rect(r.x,r.y,r.w,r.h),t.fillStyle=e.backgroundColor,t.fill(),t.fillStyle=e.borderColor,t.fill("evenodd")):(t.fillStyle=e.backgroundColor,t.fillRect(r.x,r.y,r.w,r.h)),t.restore()}inRange(t,e,r){return n(this,t,e,r)}inXRange(t,e){return n(this,t,null,e)}inYRange(t,e){return n(this,null,t,e)}getCenterPoint(t){var{x:e,y:r,width:i,height:o}=this.getProps(["x","y","width","height"],t);return{x:e+i/2,y:r+o/2}}tooltipPosition(){return this.getCenterPoint()}getRange(t){return"x"===t?this.width/2:this.height/2}}var h,l,s;s="rectangle",(l="_type")in(h=a)?Object.defineProperty(h,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):h[l]=s;class d extends t.DatasetController{update(t){var e=this._cachedMeta;this.updateElements(e.data,0,t)}updateElements(t,e,r){for(var i=this,o="reset"===r,{xScale:n,yScale:a}=i._cachedMeta,h=i.resolveDataElementOptions(e,r),l=i.getSharedOptions(r,t[e],h),s=0;s<t.length;s++){var d=e+s,c=!o&&i.getParsed(d),p=o?n.getBasePixel():n.getPixelForValue(c.x),u=o?a.getBasePixel():a.getPixelForValue(c.y),g=i.resolveDataElementOptions(s,r),{width:f,height:y,anchorX:m,anchorY:x}=g,b={x:"left"===m?p:p-f/("right"===m?1:2),y:"top"===x?u:u-y/("bottom"===x?1:2),width:f,height:y,options:g};i.updateElement(t[s],d,b,r)}i.updateSharedOptions(l,r)}draw(){var t,e,r=this.getMeta().data||[];for(t=0,e=r.length;t<e;++t)r[t].draw(this._ctx)}}d.prototype.dataElementType=a,d.prototype.dataElementOptions=["backgroundColor","borderColor","borderWidth","anchorX","anchorY","width","height"],t.controllers.matrix=d,t.defaults.matrix={hover:{mode:"nearest",intersect:!0},datasets:{animation:{numbers:{type:"number",properties:["x","y","width","height"]}},anchorX:"center",anchorY:"center"},tooltips:{mode:"nearest",intersect:!0},scales:{x:{type:"linear",offset:!0},y:{type:"linear",reverse:!0}},elements:{rectangle:{width:20,height:20}}};
