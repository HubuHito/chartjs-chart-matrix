/*!
 * chartjs-chart-matrix v1.0.0-alpha5
 * https://github.com/kurkle/chartjs-chart-matrix#readme
 * (c) 2020  Jukka Kurkela
 * Released under the MIT license
 */
import t from"chart.js";function e(){return(e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function r(t,e){var{x:r,y:i,width:o,height:n}=t.getProps(["x","y","width","height"],e);return{left:r,top:i,right:r+o,bottom:i+n}}function i(t,e,r){return Math.max(Math.min(t,r),e)}function o(e){var o=r(e),n=o.right-o.left,a=o.bottom-o.top,l=function(e,r,o){var n,a,l,h,s=e.options.borderWidth;return t.helpers.isObject(s)?(n=+s.top||0,a=+s.right||0,l=+s.bottom||0,h=+s.left||0):n=a=l=h=+s||0,{t:i(n,0,o),r:i(a,0,r),b:i(l,0,o),l:i(h,0,r)}}(e,n/2,a/2);return{outer:{x:o.left,y:o.top,w:n,h:a},inner:{x:o.left+l.l,y:o.top+l.t,w:n-l.l-l.r,h:a-l.t-l.b}}}function n(t,e,i,o){var n=null===e,a=null===i,l=!(!t||n&&a)&&r(t,o);return l&&(n||e>=l.left&&e<=l.right)&&(a||i>=l.top&&i<=l.bottom)}class a extends t.Element{constructor(t){super(),this.options=void 0,this.width=void 0,this.height=void 0,t&&e(this,t)}draw(t){var e=this.options,{inner:r,outer:i}=o(this);t.save(),i.w!==r.w||i.h!==r.h?(t.beginPath(),t.rect(i.x,i.y,i.w,i.h),t.clip(),t.rect(r.x,r.y,r.w,r.h),t.fillStyle=e.backgroundColor,t.fill(),t.fillStyle=e.borderColor,t.fill("evenodd")):(t.fillStyle=e.backgroundColor,t.fillRect(r.x,r.y,r.w,r.h)),t.restore()}inRange(t,e,r){return n(this,t,e,r)}inXRange(t,e){return n(this,t,null,e)}inYRange(t,e){return n(this,null,t,e)}getCenterPoint(t){var{x:e,y:r,width:i,height:o}=this.getProps(["x","y","width","height"],t);return{x:e+i/2,y:r+o/2}}tooltipPosition(){return this.getCenterPoint()}getRange(t){return"x"===t?this.width/2:this.height/2}}var l,h,s;s="rectangle",(h="_type")in(l=a)?Object.defineProperty(l,h,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[h]=s;class d extends t.DatasetController{update(t){var e=this._cachedMeta;this.updateElements(e.data,0,t)}updateElements(t,e,r){for(var i=this,o="reset"===r,{xScale:n,yScale:a}=i._cachedMeta,l=i.resolveDataElementOptions(e,r),h=i.getSharedOptions(r,t[e],l),s=0;s<t.length;s++){var d=e+s,p=!o&&i.getParsed(d),u=o?n.getBasePixel():n.getPixelForValue(p.x),g=o?a.getBasePixel():a.getPixelForValue(p.y),c=i.resolveDataElementOptions(s,r),{width:f,height:y}=c,x={x:u-f/2,y:g-y/2,width:f,height:y,options:c};i.updateElement(t[s],d,x,r)}i.updateSharedOptions(h,r)}draw(){var t,e,r=this.getMeta().data||[];for(t=0,e=r.length;t<e;++t)r[t].draw(this._ctx)}}d.prototype.dataElementType=a,d.prototype.dataElementOptions=["backgroundColor","borderColor","borderWidth","width","height"],t.controllers.matrix=d,t.defaults.matrix={hover:{mode:"nearest",intersect:!0},datasets:{animation:{numbers:{type:"number",properties:["x","y","width","height"]}}},tooltips:{mode:"nearest",intersect:!0},scales:{x:{type:"linear",offset:!0},y:{type:"linear",reverse:!0}},elements:{rectangle:{width:20,height:20}}};
